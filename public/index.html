<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- This meta tag ensures that the website renders correctly across different device sizes, enhancing mobile responsiveness. -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Link to the external CSS stylesheet. Uncomment if you wish to customize or add styling. -->
    <link rel="stylesheet" href="styles.css">

    <title>Database Application</title>
</head>

<body>
    <!-- ===================================================================================== -->
    <!-- Display the current status of the database connection.
     !!HERE TO HELP U DEBUGGING, NOT REQUIRED IN YOUR OWN PROJECT!!
     -->
    <h1>Database Connection Status:
        <!-- An in-line placeholder to display connection status. -->
        <span id="dbStatus"> </span>
        <!-- A loading GIF, will be hided once get the status. -->
        <img id="loadingGif" class="loading-gif" src="loading_100px.gif" alt="Loading...">
    </h1>

    <div id="sidebar">
        <button onclick="showSection('animalSection')">Animals</button>
        <button onclick="showSection('farmerSection')">Farmers</button>
        <button onclick="showSection('storageSection')">Storage</button>
        <button onclick="showSection('customerSection')">Customer</button>
        <button onclick="showSection('machinerySection')">Machinery</button>
    </div>

    <!-- ===================================================================================== -->
    <!-- **********************************   FARMER SECTION   ************************************** -->


    <hr class="section-divider">
    <div id="farmerSection" class="content-section">
        <div class="table-wrapper">
            <!-- Show 'Farmer Table' -->
            <h2>Show Farmer Table</h2>
            <table id="farmerTable" border="1">
                <thead>
                    <tr>
                        <th>Farmer ID</th>
                        <th>Name</th>
                        <th>Phone Number</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>

        </div>


        <div class="table-wrapper">
            <!-- Find most qualified farmers (Division) -->
            <h2>Find Most Qualified Farmers</h2>
            <button id="farmerDivision">Find most qualified farmers</button>
            <table id="farmerDivisionTable">
                <thead>
                    <tr>
                        <th>Farmer ID</th>
                        <th>Farmer Name</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

        </div>

        <div class="table-wrapper">

            <!-- Show 'Shift Table' -->
            <h2>Show Shift Table</h2>
            <table id="shiftTable" border="1">
                <thead>
                    <tr>
                        <th>Farmer ID</th>
                        <th>Shift Date</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>

        </div>

        <div class="table-wrapper">

            <h3>Filter Farmers by Shift Date</h3>
            <div style="margin-bottom: 10px;">
                <label for="filterShiftDate">Select Date:</label>
                <input type="date" id="filterShiftDate">
                <button onclick="filterShiftByDate()">Apply Filter</button>
            </div>



            <h3>Farmer Contact Info for Selected Date</h3>
            <table id="farmerInfoTable" border="1">
                <thead>
                    <tr>
                        <th>Farmer ID</th>
                        <th>Name</th>
                        <th>Phone Number</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <div class="table-wrapper">
      
          <!-- Find super qualified farmers (Division) -->
          <h2>Super Qualified Farmers</h2>
          <button id="farmerDivisionBtn">Find farmers who use all machines</button>
          <table id="farmerDivisionTable">
            <thead>
              <tr>
                <th>Farmer ID</th>
                <th>Farmer Name</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>  
        
      </div>

        <div class="table-wrapper">
            <h2> Insert Values into Farmer Table</h2>
            <form id="insertFarmerTable">
                ID: <input type="text" id="insertFarmerID" placeholder="Enter ID" required> <br><br>
                Name: <input type="text" id="insertFarmerName" placeholder="Enter Name" maxlength="100"> <br><br>
                Phone Number: <input type="text" id="insertFarmerPhoneNumber" placeholder="Enter Phone Number"
                    maxlength="100">
                <br><br>

                <button type="submit"> insert </button> <br>
            </form>
            <div id="insertFarmerMsg"></div>
        </div>

        <div class="table-wrapper">
            <h2> Insert Values into Shift Table</h2>
            <form id="insertShiftTable">
                FarmerID: <input type="text" id="insertShiftFarmerID" placeholder="Enter FarmerID" required> <br><br>
                Shift Date: <input type="date" id="insertDate" placeholder="Enter Date" maxlength="100" required>
                <br><br>
                <br><br>

                <button type="submit"> insert </button> <br>
            </form>
            <div id="insertShiftMsg"></div>
        </div>


        <div class="table-wrapper">

            <h2>Update Farmer Information in Farmer Table</h2>
            <p>Please provide the FarmerID in order to update the Farmer's info</p>
            <form id="updateFarmerInfo">
                Farmer ID: <input type="number" id="farmerID" placeholder="Enter Farmer ID" required> <br><br>
                Update Name: <input type="text" id="updateFarmerName" placeholder="Enter New Name"> <br><br>
                Update Phone Number: <input type="text" id="updateFarmerPhoneNumber"
                    placeholder="Enter New Phone Number" maxlength="100"> <br><br>

                <button type="submit"> Update </button> <br>
            </form>
            <div id="updateFarmerResultMsg"></div>


        </div>

        <div class="table-wrapper">

            <h2>Delete Farmer Information in Farmer Table</h2>
            <p>Please provide the FarmerID in order to delete the Farmer's info</p>
            <form id="deleteFarmerInfo">
                Farmer ID: <input type="number" id="deleteFarmerID" placeholder="Enter Farmer ID" required> <br><br>
                <button type="submit"> Delete </button> <br>
            </form>
            <div id="deleteFarmerResultMsg"></div>


        </div>
    </div>



    <!-- ===================================================================================== -->
    <!-- **********************************   ANIMAL SECTION   ************************************** -->


    <hr class="section-divider">
    <div id="animalSection" class="content-section">

        <div class="table-wrapper">

            <h2>Show Animal Table</h2>
            <table id="animalTable" border="1">
                <thead>
                    <tr>
                        <th>Animal ID</th>
                        <th>Name</th>
                        <th>Age</th>
                        <th>Pen Number</th>
                        <th>Weight</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>


            <h2>Search For Animals</h2>
            <form id="animalSearchForm">
                <p>Add a condition to start your search for animals! Please ignore the first logic operand.</p>
                <div id="animalSearchConditions"></div>
                <button type="button" onclick="addCondition()">Add Condition</button>
                <button type="submit">Search</button>
            </form> <br><br>
            <table id="animals" border="1">
                <thead>
                    <tr>
                        <th>Animal ID</th>
                        <th>Name</th>
                        <th>Age</th>
                        <th>Pen Number</th>
                        <th>Weight</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            <div id="animalResults"></div>

        </div>

        <div class="table-wrapper">
            <button id="countUnderweightCows">Count underweight cows</button>
            <table id="countUnderweightCowsTable">
                <thead>
                    <tr>
                        <th>Potentially sick cows</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <div class="table-wrapper">
            <h2>Show Cow Table</h2>
            <table id="cowAnimals" border="1">
                <thead>
                    <tr>
                        <th>Animal ID</th>
                        <th>Name</th>
                        <th>Age</th>
                        <th>Pen Number</th>
                        <th>Weight</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            
            <!-- Count sick cows (nested agg with group by) -->
            <button id="countUnderweightCowsBtn">Count underweight cows</button>
            <div id="underWeightCows"></div>
        </div>

        <div class="table-wrapper">

            <h2>Show Chicken Table</h2>
            <table id="chickenAnimals" border="1">
                <thead>
                    <tr>
                        <th>Animal ID</th>
                        <th>Name</th>
                        <th>Age</th>
                        <th>Pen Number</th>
                        <th>Weight</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>

        </div>





        <div class="table-wrapper">

            <h2>Show Animal Feeding Log Table</h2>
            <table id="feedingLogTable" border="1">
                <thead>
                    <tr>
                        <th>Farmer ID</th>
                        <th>Animal ID</th>
                        <th>Feeding Date</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>

        </div>

    </div>
    <!-- ===================================================================================== -->
    <!-- **********************************   MACHINERY SECTION   ************************************** -->

    <hr class="section-divider">
    <div id="machinerySection" class="content-section">

        <div class="table-wrapper">

            <!-- Show 'Machinery Table' -->
            <h2>Show Machinery Table</h2>
            <table id="machineryTable" border="1">
                <thead>
                    <tr>
                        <th>Machine ID</th>
                        <th>Type</th>
                        <th>Condition</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>

            <button id="groupByConditionBtn">Group Machinery by Condition</button>
            <table id="machineryConditionGroupTable">
                <thead>
                    <tr>
                        <th>Condition</th>
                        <th>Count</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

          <!-- Show MachineryUsage Table -->
    <h2>Show Machinery Usage Records</h2>
    <table id="machineryUsageTable" border="1">
        <thead>
            <tr>
                <th>Farmer ID</th>
                <th>Machine ID</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
          
        </div>

        <div class="table-wrapper">

            <h2> Insert Values into Machinery Table</h2>
            <form id="insertMachineryTable">
                Machine ID: <input type="text" id="insertMachineID" placeholder="Enter Machine ID" required> <br><br>
                Machine Type: <input type="text" id="insertMachineType" placeholder="Enter Machine Type"
                    maxlength="100">
                <br><br>

                Condition:
                <select id="insertMachineCondition">
                    <option value="New">New</option>
                    <option value="Good">Good</option>
                    <option value="Fair">Fair</option>
                    <option value="Needs Repair">Needs Repair</option>
                    <option value="Poor">Poor</option>
                </select> <br><br>


                <button type="submit"> insert </button> <br>
            </form>
            <div id="insertMachineryMsg"></div>

        </div>
      
    </div>

    <!-- ===================================================================================== -->
    <!-- **********************************   CUSTOMER SECTION   ************************************** -->

    <hr class="section-divider">
    <div id="customerSection" class="content-section">

        <div class="table-wrapper">
            <!-- Show 'Customer Table' -->
            <h2>Show Customer Table</h2>
            <table id="customerTable" border="1">
                <thead>
                    <tr>
                        <th>Email</th>
                        <th>Name</th>
                        <th>Phone Number</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>

        <div class="table-wrapper">

            <h2> Insert Values into Customer Table</h2>
            <form id="insertCustomerTable">
                Email: <input type="text" id="insertCustomerEmail" placeholder="Enter Email" required> <br><br>
                Name: <input type="text" id="insertCustomerName" placeholder="Enter Name" maxlength="100"> <br><br>
                Phone Number: <input type="text" id="insertCustomerPhoneNumber" placeholder="Enter Phone Number"
                    maxlength="100">
                <br><br>

                <button type="submit"> insert </button> <br>
            </form>
            <div id="insertCustomerMsg"></div>
        </div>



        <div class="table-wrapper">

            <h3>Select Columns to Display in Transaction Table</h3>
            <form id="transactionProjectionForm">
                <label><input type="checkbox" name="columns" value="TransactionNumber" checked> Transaction
                    Number</label><br>
                <label><input type="checkbox" name="columns" value="cEmail" checked> Customer Email</label><br>
                <label><input type="checkbox" name="columns" value="tDate" checked> Date</label><br>
                <label><input type="checkbox" name="columns" value="Total" checked> Total Sale
                    Amount</label><br><br>
                <button type="button" onclick="fetchAndDisplayProjectedTransactions()">Apply Projection</button>
            </form>

            <!-- Show 'Transaction Table' -->
            <h2>Show Transaction Table</h2>
            <table id="transactionTable" border="1">
                <thead>
                    <tr>
                        <th>Transaction Number</th>
                        <th>Customer Email</th>
                        <th>Date</th>
                        <th>Total Sale Amount</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>

        <div class="table-wrapper">



            <h2> Insert Values into Transactions Table</h2>
            <form id="insertTransactionsTable">
                Transaction Number: <input type="text" id="insertTransactionNumber"
                    placeholder="Enter Transaction Number" required> <br><br>
                Customer Email: <input type="text" id="insertTransactionCustomerEmail"
                    placeholder="Enter Customer Email" maxlength="100" required> <br><br>
                Date: <input type="date" id="insertTransactionDate" placeholder="Enter Transaction Date" required>
                <br><br>
                Total Sale Amount: <input type="text" id="insertTransactionTotal" placeholder="Enter Transaction Total"
                    maxlength="100" required> <br><br>
                <br><br>

                <button type="submit"> insert </button> <br>
            </form>
            <div id="insertTransactionMsg"></div>



        </div>

        <div class="table-wrapper">
            <h3>Group Transactions by Date Having Total >= minAmount </h3>
            <label for="minTotalInput">Minimum Total:</label>
            <input type="number" id="minTotalInput" placeholder="Enter minimum total" />

            <button id="groupByTransactionAmountBtn">Group by Amount</button>

            <table id="transactionGroupByAmountTable">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Total Sum</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <div class="table-wrapper">
            <h2>Show Purchased Products Table</h2>
            <table id="purchasedProductsTable" border="1">
                <thead>
                    <tr>
                        <th>Batch ID</th>
                        <th>Transaction Number</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>

    </div>


    <!-- ===================================================================================== -->
    <!-- **********************************   STORAGE SECTION   ************************************** -->

    <hr class="section-divider">
    <div id="storageSection" class="content-section">

        <div class="table-wrapper">
            <h2>Show Storage Building Table</h2>
            <table id="storageBuildingTable" border="1">
                <thead>
                    <tr>
                        <th>Building ID</th>
                        <th>Building Type</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>

        </div>

        <div class="table-wrapper">

            <h2> Insert values into Storage Building Table</h2>
            <form id="insertStorageBuilding">
                Building ID: <input type="number" id="insertBuildingID" placeholder="Enter ID" required> <br><br>
                Building Type: <input type="text" id="insertBuildingType" placeholder="Enter Type" maxlength="20">
                <br><br>

                <button type="submit"> insert </button> <br>
            </form>
            <div id="insertStorageBuildingMsg"></div>

        </div>

        <div class="table-wrapper">
            <h2>Show Egg Products</h2>
            <table id="eggProducts" border="1">
                <thead>
                    <tr>
                        <th>Batch ID</th>
                        <th>Yield</th>
                        <th>Collection Date</th>
                        <th>Chicken Name</th>
                        <th>Stored In Building</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>

        </div>


        <div class="table-wrapper">
            <h2>Show Dairy Products</h2>
            <table id="dairyProducts" border="1">
                <thead>
                    <tr>
                        <th>Batch ID</th>
                        <th>Type</th>
                        <th>Yield</th>
                        <th>Collection Date</th>
                        <th>Cow Name</th>
                        <th>Stored In Building</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>

        </div>

        <div class="table-wrapper">
            <h2>Show Crop Products</h2>
            <table id="cropProducts" border="1">
                <thead>
                    <tr>
                        <th>Batch ID</th>
                        <th>Type</th>
                        <th>Yield</th>
                        <th>Plant Date</th>
                        <th>Collection Date</th>
                        <th>Stored In Building</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>



        </div>

        <div class="table-wrapper">
            <h2>Show Crop Maintenance Log Table</h2>
            <table id="cropMaintenanceTable" border="1">
                <thead>
                    <tr>
                        <th>Tasks Completed</th>
                        <th>Farmer ID</th>
                        <th>Date</th>
                        <th>Batch ID</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>

        </div>

    </div>





    <!-- ===================================================================================== -->
    <!-- **********************************   DEMO SECTION   ************************************** -->


    <hr class="section-divider">
    <div id="demoSection" class="content-section">
        <!-- Show 'Demotable'.
    Data will be fetched and inserted here dynamically using JavaScript. -->
        <h2>Show Demotable</h2>
        <table id="demotable" border="1">
            <thead>
                <tr>
                    <!--Table head, need to be adjusted accordingly to align with your own.-->
                    <th>ID</th>
                    <th>Name</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>

        <h2> Insert Values into DemoTable </h2>
        <form id="insertDemotable">
            ID: <input type="number" id="insertId" placeholder="Enter ID" required> <br><br>
            Name: <input type="text" id="insertName" placeholder="Enter Name" maxlength="20"> <br><br>

            <button type="submit"> insert </button> <br>
        </form>
        <div id="insertResultMsg"></div>


        <h2>Update Name in DemoTable</h2>
        <p>The values are case sensitive and if you enter in the wrong case, the update statement will not do
            anything.
        </p>
        <form id="updataNameDemotable">
            Old Name: <input type="text" id="updateOldName" placeholder="Enter Old Name" required> <br><br>
            New Name: <input type="text" id="updateNewName" placeholder="Enter New Name" maxlength="20"> <br><br>

            <button type="submit"> update </button> <br>
        </form>
        <!-- A placeholder to display messages related to the update operation. -->
        <div id="updateNameResultMsg"></div>

        <h2>Count the Tuples in DemoTable</h2>
        <button id="countDemotable"> count </button> <br><br>
        <!-- A placeholder to display the count result. -->
        <div id="countResultMsg"></div> <br>

        <h2>Reset Demotable</h2>
        <p>If you wish to reset the table press on the reset button. If this is the first time you're running this
            page,
            you
            MUST use reset</p>
        <button id="resetDemotable"> reset </button> <br>
        <div id="resetResultMsg"></div>

        <h2>Reset Customer Table</h2>
        <p>If you wish to reset the table press on the reset button. If this is the first time you're running this
            page,
            you
            MUST use reset</p>
        <button id="resetCustomerTable"> reset </button> <br>
        <div id="resetCustomerMsg"></div>

        <h2>Reset Farmer Table</h2>
        <p>If you wish to reset the table press on the reset button. If this is the first time you're running this
            page,
            you
            MUST use reset</p>
        <button id="resetFarmerTable"> reset </button> <br>
        <div id="resetFarmerMsg"></div>

        <h2>Reset Shift Table</h2>
        <p>If you wish to reset the table press on the reset button. If this is the first time you're running this
            page,
            you
            MUST use reset</p>
        <button id="resetShiftTable"> reset </button> <br>
        <div id="resetShiftMsg"></div>

        <h2>Reset Transactions Table</h2>
        <p>If you wish to reset the table press on the reset button. If this is the first time you're running this
            page,
            you
            MUST use reset</p>
        <button id="resetTransactionsTable"> reset </button> <br>
        <div id="resetTransactionsMsg"></div>

        <h2>Reset Storage Building Table</h2>
        <p>If you wish to reset the table press on the reset button. If this is the first time you're running this
            page,
            you
            MUST use reset</p>
        <button id="resetStorageBuildingTable"> reset </button> <br>
        <div id="resetStorageBuildingMsg"></div>

        <h2>Reset Machinery Table</h2>
        <p>If you wish to reset the table press on the reset button. If this is the first time you're running this
            page,
            you
            MUST use reset</p>
        <button id="resetMachineryTable"> reset </button> <br>
        <div id="resetMachineryMsg"></div>

    </div>
    <!-- ===================================================================================== -->
    <!-- External JavaScript file that contains the functionality/logic for the operations above. -->
    <script src="scripts.js"></script>
</body>

</html>